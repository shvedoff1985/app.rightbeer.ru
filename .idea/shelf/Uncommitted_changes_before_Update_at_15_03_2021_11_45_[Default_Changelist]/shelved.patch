Index: files/js/main.js
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>let User = false;\r\n    First_exit = false;\r\n    Phone = '+7 (910) 255-75-12';\r\n    Page = 'login';\r\n\r\nif (localStorage.account == \"login\") {\r\n    User=true;\r\n    Page='profile';\r\n    profile();\r\n}else{\r\n    User=false;\r\n    Page='login';\r\n    login();\r\n}\r\n\r\n//Главный прелоудер\r\nif(!First_exit) {setTimeout(function(){$(\"#preload-main\").css(\"display\", \"none\");}, 1350);}else{}\r\n\r\n\r\n$(document).ready ( function(){\r\n    if (!User && Page == 'login') {\r\n\r\n\r\n        $('#preload').css('display', 'block');\r\n        setTimeout(function(){$('#preload').css('display', 'none');}, 650);\r\n        //Атрибут Page для layout\r\n        $('#layout').removeAttr('page');\r\n        $('#layout').attr('page', 'login');\r\n\r\n        //Название страницы\r\n        $(\".name-layout .name\").html('Авторизация');\r\n\r\n        //Загрузка контента\r\n        $(\"#layout\").html(\r\n            '<div class=\"logo\">\\\r\n                <img src=\"files/images/logo-light.png\" width=\"200\">\\\r\n            </div>\\\r\n            <div class=\"box-login\">\\\r\n                <div class=\"input-group\">\\\r\n                    <label>Введите номер телефона</label>\\\r\n                    <input id=\"phone-mask\" type=\"\" name=\"\" placeholder=\"+7 (___) ___-__-__\">\\\r\n                </div>\\\r\n                <div class=\"input-group\">\\\r\n                    <input id=\"submit-mask\" type=\"submit\" class=\"shadow-box\" name=\"\" value=\"Войти\" disabled=\"disabled\">\\\r\n                </div>\\\r\n                <div class=\"back-call\">\\\r\n                    <a  href=\"tel:+79998886655\">Обратная связь</a>\\\r\n                </div>\\\r\n            </div>'\r\n        );\r\n\r\n        //Подгрузка оверлея\r\n        $(\"#overlay\").html(\r\n            '<div class=\"PIN\">\\\r\n                <div class=\"input-group\">\\\r\n                    <label>Введите код подтверждения (последние 4 цифры входящего звонка)</label>\\\r\n                    <input id=\"pin-mask\" type=\"\" name=\"\" placeholder=\"_-_-_-_\">\\\r\n                </div>\\\r\n            </div>\\\r\n            <div class=\"close\"><i class=\"far fa-times-circle\"></i></div>'\r\n        );\r\n\r\n        //Код страницы Login\r\n        let pin;\r\n\r\n        $('.box-login').on('input', function () {\r\n            if($(\"#phone-mask\").val().length == 18) {\r\n                $('#submit-mask').removeAttr('disabled');\r\n            }else{\r\n                $('#submit-mask').attr('disabled', 'disabled');\r\n            }\r\n        });\r\n\r\n\r\n        $(function() {\r\n            $('#submit-mask').click(function() {\r\n                $(\"#overlay\").css(\"display\", 'block');\r\n                $(\"#overlay\").css(\"height\", windowheight-55);\r\n                $(\".PIN\").css(\"margin-top\", (windowheight-$(\".PIN\").height())/2 - 55-72 );\r\n\r\n                var xhr = new XMLHttpRequest();\r\n                xhr.open('GET', 'https://smsc.ru/sys/send.php?login=shvedoff1985&psw=b12132ff02dd8e140df8fa5c59c23df1&phones='+$(\"#phone-mask\").val()+'&mes=code&call=1&fmt=3', false);\r\n                xhr.send();\r\n                if (xhr.status != 200) {\r\n                } else {\r\n                    pin = JSON.parse(xhr.responseText);\r\n                }\r\n            });\r\n            $('#overlay .close').click(function() {\r\n                $(\"#overlay\").css(\"display\", 'none');\r\n            });\r\n        });\r\n\r\n        $('.PIN').on('input', function () {\r\n            if($(\"#pin-mask\").val().length == 7) {\r\n                pincode = $(\"#pin-mask\").val();\r\n                pincode = pincode.split('-').join('');\r\n                pin = pin.code;\r\n                pin = pin.substr(2, 6);\r\n                if (pincode == pin) {\r\n                    localStorage.account = 'login';\r\n                    $(\"#overlay\").css(\"display\", 'none');\r\n                    $(\"#overlay\").html('');\r\n                    Phone = $(\"#phone-mask\").val();\r\n                    authorization();\r\n                }else{\r\n                    alert('Неверный код');\r\n                }\r\n            }\r\n        });\r\n\r\n        //Подгрузка маски\r\n        var phoneMask = IMask(document.getElementById('phone-mask'), {mask: '+7 (000) 000-00-00'});\r\n        var regExpMask = IMask(document.getElementById('pin-mask'), {mask: '0-0-0-0'});\r\n    }\r\n});\r\n\r\nfunction login() {\r\n    $('#preload').css('display', 'block');\r\n    setTimeout(function(){$('#preload').css('display', 'none');}, 650);\r\n\r\n    Page = 'login';\r\n\r\n    if (!User && Page == 'login') {\r\n        //Атрибут Page для layout\r\n        $('#layout').removeAttr('page');\r\n        $('#layout').attr('page', 'login');\r\n\r\n        $(\"metajs\").html('');\r\n\r\n        //Название страницы\r\n        $(\".name-layout .name\").html('Авторизация');\r\n\r\n        //Загрузка контента\r\n        $(\"#layout\").html(\r\n            '<div class=\"logo\">\\\r\n                <img src=\"files/images/logo-light.png\" width=\"200\">\\\r\n            </div>\\\r\n            <div class=\"box-login\">\\\r\n                <div class=\"input-group\">\\\r\n                    <label>Введите номер телефона</label>\\\r\n                    <input id=\"phone-mask\" type=\"\" name=\"\" placeholder=\"+7 (___) ___-__-__\">\\\r\n                </div>\\\r\n                <div class=\"input-group\">\\\r\n                    <input id=\"submit-mask\" type=\"submit\" class=\"shadow-box\" name=\"\" value=\"Войти\" disabled=\"disabled\">\\\r\n                </div>\\\r\n                <div class=\"back-call\">\\\r\n                    <a  href=\"tel:+79998886655\">Обратная связь</a>\\\r\n                </div>\\\r\n            </div>'\r\n        );\r\n\r\n        //Подгрузка оверлея\r\n        $(\"#overlay\").html(\r\n            '<div class=\"PIN\">\\\r\n                <div class=\"input-group\">\\\r\n                    <label>Введите код подтверждения (последние 4 цифры входящего звонка)</label>\\\r\n                    <input id=\"pin-mask\" type=\"\" name=\"\" placeholder=\"_-_-_-_\">\\\r\n                </div>\\\r\n            </div>\\\r\n            <div class=\"close\"><i class=\"far fa-times-circle\"></i></div>'\r\n        );\r\n\r\n        //Код страницы Login\r\n        let pin;\r\n\r\n        $('.box-login').on('input', function () {\r\n            if($(\"#phone-mask\").val().length == 18) {\r\n                $('#submit-mask').removeAttr('disabled');\r\n            }else{\r\n                $('#submit-mask').attr('disabled', 'disabled');\r\n            }\r\n        });\r\n\r\n\r\n        $(function() {\r\n            $('#submit-mask').click(function() {\r\n                $(\"#overlay\").css(\"display\", 'block');\r\n                $(\"#overlay\").css(\"height\", windowheight-55);\r\n                $(\".PIN\").css(\"margin-top\", (windowheight-$(\".PIN\").height())/2 - 55-72 );\r\n\r\n                var xhr = new XMLHttpRequest();\r\n                xhr.open('GET', 'https://smsc.ru/sys/send.php?login=shvedoff1985&psw=b12132ff02dd8e140df8fa5c59c23df1&phones='+$(\"#phone-mask\").val()+'&mes=code&call=1&fmt=3', false);\r\n                xhr.send();\r\n                if (xhr.status != 200) {\r\n                } else {\r\n                    pin = JSON.parse(xhr.responseText);\r\n                }\r\n            });\r\n            $('#overlay .close').click(function() {\r\n                $(\"#overlay\").css(\"display\", 'none');\r\n            });\r\n        });\r\n\r\n        $('.PIN').on('input', function () {\r\n            if($(\"#pin-mask\").val().length == 7) {\r\n                pincode = $(\"#pin-mask\").val();\r\n                pincode = pincode.split('-').join('');\r\n                pin = pin.code;\r\n                pin = pin.substr(2, 6);\r\n                console.log(pin.code+'-'+pin);\r\n                if (pincode == pin) {\r\n                    localStorage.account = 'login';\r\n                    $(\"#overlay\").css(\"display\", 'none');\r\n                    $(\"#overlay\").html('');\r\n                    Phone = $(\"#phone-mask\").val();\r\n                    authorization();\r\n                }else{\r\n                    alert('Неверный код');\r\n                }\r\n            }\r\n        });\r\n\r\n        //Подгрузка маски\r\n        var phoneMask = IMask(document.getElementById('phone-mask'), {mask: '+7 (000) 000-00-00'});\r\n        var regExpMask = IMask(document.getElementById('pin-mask'), {mask: '0-0-0-0'});\r\n    }\r\n\r\n    //Нижний юлок\r\n    $(\".button\").removeClass('active');\r\n    $(\"#tabbar .login.profile\").html(\r\n        '<div onclick=\"login()\" class=\"button active\">\\\r\n            <div class=\"icon\"><i class=\"far fa-user-circle\"></i></div>\\\r\n            <div class=\"name\">Войти</div>\\\r\n        <div>'\r\n    );\r\n}\r\n\r\n\r\n\r\n\r\nfunction authorization() {\r\n    $('#preload').css('display', 'block');\r\n\r\n    Phone = Phone.split('+').join('');\r\n    Phone = Phone.split(' ').join('');\r\n    Phone = Phone.split('(').join('');\r\n    Phone = Phone.split(')').join('');\r\n    Phone = Phone.split('-').join('');\r\n\r\n\r\n    //Чистый номер телефона - Phone\r\n\r\n\r\n    //Отправляем запрос на получение данных\r\n\r\n    $.ajax({\r\n      type: 'POST',\r\n      url: 'https://app.maksf.ru/getcard.php',\r\n      data: {\r\n          phone: Phone,\r\n          Authorization: 'd3577f6c-05e4-430b-bfa9-561f4ad4b7ea',\r\n          accept: 'application/json',\r\n      },\r\n      success: function(data) {\r\n          card = JSON.parse(data)\r\n\r\n\r\n          //Проверка, существует ли карта\r\n          if (card.message == \"Карта не найдена\") {\r\n            //Если карта не существует\r\n\r\n            //Отправляем на регистраницю\r\n\r\n\r\n          }else{\r\n            //Если карта сущетсвует\r\n            //Сохраняем данные\r\n\r\n            localStorage.CardNumber = card.number;\r\n            localStorage.CardBalance = card.balance;\r\n            localStorage.FormHolder = card.form.holder;\r\n            localStorage.FormHolder = card.form.holder;\r\n            localStorage.FormPhone = card.form.phone;\r\n            localStorage.FormBirthdate = card.form.birthdate;\r\n\r\n            //Отправляем в профиль\r\n            profile();\r\n          }\r\n          //Проверка есть ли карта\r\n          setTimeout(function(){$('#preload').css('display', 'none');}, 650);\r\n      }\r\n  });\r\n\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction profile() {\r\n    $('#preload').css('display', 'block');\r\n    setTimeout(function(){$('#preload').css('display', 'none');}, 650);\r\n\r\n    Page = 'profile';\r\n    //Атрибут Page для layout\r\n    $('#layout').removeAttr('page');\r\n    $('#layout').attr('page', 'profile');\r\n\r\n    $(\"metajs\").html('');\r\n\r\n    //Название страницы\r\n    name = localStorage.FormHolder;\r\n    name = name.split(' ')[0];\r\n\r\n    surname = localStorage.FormHolder;\r\n    surname = surname.split(' ')[1];\r\n    surname = surname[0];\r\n\r\n    $(\".name-layout .name\").html(name+' '+surname+'.');\r\n\r\n    //Загрузка контента\r\n    $(\"#layout\").html(\r\n        '<div class=\"card\">\\\r\n            <div class=\"title\">\\\r\n                Виртуальная карта\\\r\n            </div>\\\r\n            <div class=\"code\">\\\r\n                <svg id=\"barcode\"></svg>\\\r\n            </div>\\\r\n        </div>\\\r\n        <div class=\"card balance\">\\\r\n            <div class=\"balancet\">\\\r\n                баланс: <b>'+localStorage.CardBalance+'</b>\\\r\n            </div>\\\r\n            <div class=\"reload\">\\\r\n                <i class=\"fas fa-sync-alt\"></i>\\\r\n            </div>\\\r\n        </div>\\\r\n        ');\r\n\r\n        //'<br>\\\r\n        //Номер карты: ' +localStorage.CardNumber+ '<br>\\\r\n        //Пользователь: ' +localStorage.FormHolder+ '<br>\\\r\n        //Номер телефона: ' +localStorage.FormPhone+ '<br>\\\r\n        //Дата рождения: ' +localStorage.FormBirthdate+ '<br>\\\r\n        //Баланс: ' +localStorage.CardBalance+ '<br>'\r\n\r\n\r\n    JsBarcode(\"#barcode\", localStorage.CardNumber);\r\n\r\n    //Нижний юлок\r\n    $(\".button\").removeClass('active');\r\n    if (localStorage.account == \"login\") {\r\n        $(\"#tabbar .login.profile\").html(\r\n            '<div onclick=\"profile()\" class=\"button\">\\\r\n                <div class=\"icon\"><i class=\"fas fa-barcode\"></i></div>\\\r\n                <div class=\"name\">Профиль</div>\\\r\n            <div>'\r\n        );\r\n        $(\".name-layout .exit\").html('<i class=\"fas fa-sign-out-alt\"></i>');\r\n    }else{\r\n        $(\"#tabbar .login.profile\").html(\r\n            '<div onclick=\"login()\" class=\"button\">\\\r\n                <div class=\"icon\"><i class=\"far fa-user-circle\"></i></div>\\\r\n                <div class=\"name\">Войти</div>\\\r\n            </div>'\r\n        );\r\n    }\r\n    $(\"#tabbar .login .button\").addClass('active');\r\n}\r\n\r\nfunction news() {\r\n    $('#preload').css('display', 'block');\r\n\r\n    Page = 'news';\r\n    //Атрибут Page для layout\r\n    $('#layout').removeAttr('page');\r\n    $('#layout').attr('page', 'news');\r\n\r\n    $(\"metajs\").html('');\r\n\r\n    //Название страницы\r\n    $(\".name-layout .name\").html('Новости');\r\n    //Загрузка контента\r\n\r\n    $(\"#layout\").html('<div class=\"lineP\"></div>');\r\n\r\n\r\n\r\n    var News = new XMLHttpRequest();\r\n    News.open('GET', 'https://app.maksf.ru/news.php', false);\r\n    News.send();\r\n    console.log(News.responseText);\r\n    if (News.status != 200) {\r\n      $('#preload').css('display', 'block');\r\n    } else {\r\n        setTimeout(function(){$('#preload').css('display', 'none');}, 650);\r\n        News_arr = JSON.parse(News.responseText);\r\n        News_Numm = Object.keys(News_arr).length;\r\n\r\n        for (var i = 1; i < News_Numm+1 ; i++) {\r\n\r\n\r\n          $(\"#layout\").append(\r\n              '<div class=\"card\">\\\r\n                  <img src=\"'+News_arr[i]['image']+'\">\\\r\n                  <div class=\"title\">'+News_arr[i].name+'</div>\\\r\n                  <div class=\"text\">'+News_arr[i].text+'</div>\\\r\n              </div>\\\r\n              '\r\n          );\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    //Нижний юлок\r\n    $(\".button\").removeClass('active');\r\n    if (localStorage.account == \"login\") {\r\n        $(\"#tabbar .login.profile\").html(\r\n            '<div onclick=\"profile()\" class=\"button\">\\\r\n                <div class=\"icon\"><i class=\"fas fa-barcode\"></i></div>\\\r\n                <div class=\"name\">Профиль</div>\\\r\n            <div>'\r\n        );\r\n        $(\".name-layout .exit\").html('<i class=\"fas fa-sign-out-alt\"></i>');\r\n    }else{\r\n        $(\"#tabbar .login.profile\").html(\r\n            '<div onclick=\"login()\" class=\"button\">\\\r\n                <div class=\"icon\"><i class=\"far fa-user-circle\"></i></div>\\\r\n                <div class=\"name\">Войти</div>\\\r\n            </div>'\r\n        );\r\n    }\r\n    $(\"#tabbar .news .button\").addClass('active');\r\n\r\n\r\n\r\n}\r\n\r\n\r\n\r\nfunction stocks() {\r\n    $('#preload').css('display', 'block');\r\n    setTimeout(function(){$('#preload').css('display', 'none');}, 650);\r\n\r\n\r\n    Page = 'stocks';\r\n    //Атрибут Page для layout\r\n    $('#layout').removeAttr('page');\r\n    $('#layout').attr('page', 'stocks');\r\n\r\n    $(\"metajs\").html('');\r\n\r\n    //Название страницы\r\n    $(\".name-layout .name\").html('Акции');\r\n    //Загрузка контента\r\n    $(\"#layout\").html('<div class=\"lineP\"></div>');\r\n\r\n\r\n\r\n    var News = new XMLHttpRequest();\r\n    News.open('GET', 'https://app.maksf.ru/stocks.php', false);\r\n    News.send();\r\n    console.log(News.responseText);\r\n    if (News.status != 200) {\r\n      $('#preload').css('display', 'block');\r\n    } else {\r\n        setTimeout(function(){$('#preload').css('display', 'none');}, 650);\r\n        News_arr = JSON.parse(News.responseText);\r\n        News_Numm = Object.keys(News_arr).length;\r\n\r\n        for (var i = 1; i < News_Numm+1 ; i++) {\r\n\r\n\r\n          $(\"#layout\").append(\r\n              '<div class=\"card\">\\\r\n                  <img src=\"'+News_arr[i]['image']+'\">\\\r\n                  <div class=\"title\">'+News_arr[i].name+'</div>\\\r\n                  <div class=\"text\">'+News_arr[i].text+'</div>\\\r\n              </div>\\\r\n              '\r\n          );\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n    //Нижний юлок\r\n    $(\".button\").removeClass('active');\r\n    if (localStorage.account == \"login\") {\r\n        $(\"#tabbar .login.profile\").html(\r\n            '<div onclick=\"profile()\" class=\"button\">\\\r\n                <div class=\"icon\"><i class=\"fas fa-barcode\"></i></div>\\\r\n                <div class=\"name\">Профиль</div>\\\r\n            <div>'\r\n        );\r\n\r\n        $(\".name-layout .exit\").html('<i class=\"fas fa-sign-out-alt\"></i>');\r\n    }else{\r\n        $(\"#tabbar .login.profile\").html(\r\n            '<div onclick=\"login()\" class=\"button\">\\\r\n                <div class=\"icon\"><i class=\"far fa-user-circle\"></i></div>\\\r\n                <div class=\"name\">Войти</div>\\\r\n            </div>'\r\n        );\r\n    }\r\n    $(\"#tabbar .stocks .button\").addClass('active');\r\n}\r\n\r\n\r\nfunction map() {\r\n    $('#preload').css('display', 'block');\r\n\r\n\r\n\r\n\r\n    Page = 'map';\r\n    //Атрибут Page для layout\r\n    $('#layout').removeAttr('page');\r\n    $('#layout').attr('page', 'map');\r\n\r\n    //Название страницы\r\n    $(\".name-layout .name\").html('Карты');\r\n    //Загрузка контента\r\n    $(\"#layout\").html(\r\n        '<div id=\"map\" style=\"width: 100%;\"></div>'\r\n    );\r\n    $(\"metajs\").html(\r\n        '<script src=\"https://api-maps.yandex.ru/2.1/?apikey=4589713e-a8e5-4019-bd5a-e4de5fb76b1d&lang=ru_RU\" type=\"text/javascript\"></script>'\r\n    );\r\n    $(\"#layout #map\").css(\"height\", $(document).height()-72-55);\r\n\r\n\r\n    //Функции map.js\r\n    document.addEventListener(\"deviceready\", onDeviceReady, false);\r\n\r\n    function onDeviceReady() {\r\n\r\n        WonderPush.subscribeToNotifications();\r\n\r\n        options = {\r\n            maximumAge: 30000,\r\n            timeout: 10000,\r\n            enableHighAccuracy: true\r\n        };\r\n\r\n        var onSuccess = function(position) {\r\n            $('#preload').css('display', 'none');\r\n            ymaps.ready(init);\r\n\r\n            function init() {\r\n                var geolocation = ymaps.geolocation,\r\n\r\n                    myMap = new ymaps.Map('map', {\r\n                        center: [position.coords.latitude, position.coords.longitude],\r\n                        zoom: 13\r\n                    }, {\r\n                        searchControlProvider: 'yandex#search'\r\n                    });\r\n\r\n                placemark1 = new ymaps.Placemark([51.648817, 39.195831], {\r\n                    hintContent: \"Воронеж, 20 летия октября, 66\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark2 = new ymaps.Placemark([51.693753, 39.144978], {\r\n                    hintContent: \"Воронеж, 45 СтрДивизии, 226\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark3 = new ymaps.Placemark([51.713434, 39.156988], {\r\n                    hintContent: \"Воронеж, 60 лет ВЛКСМ, 23\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark4 = new ymaps.Placemark([51.719125, 39.266439], {\r\n                    hintContent: \"Воронеж, Артамонова, 22\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark5 = new ymaps.Placemark([51.719125, 39.266439], {\r\n                    hintContent: \"Воронеж, Артамонова, 22 кафе\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark6 = new ymaps.Placemark([51.703444, 39.22959], {\r\n                    hintContent: \"Воронеж, Березовая роща, 70\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark7 = new ymaps.Placemark([51.660049, 39.276617], {\r\n                    hintContent: \"Воронеж, Волгоградская, 4\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark8 = new ymaps.Placemark([51.613597, 39.249093], {\r\n                    hintContent: \"Воронеж, Волгодонская, 10\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark9 = new ymaps.Placemark([51.877924, 39.586437], {\r\n                    hintContent: \"Воронеж, Г. Лохматикова, 11\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark10 = new ymaps.Placemark([51.653752, 39.149407], {\r\n                    hintContent: \"Воронеж, Домостроителей, 13\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark11 = new ymaps.Placemark([51.688159, 39.193711], {\r\n                    hintContent: \"Воронеж, Елецкая, 8\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark12 = new ymaps.Placemark([51.671796, 39.201455], {\r\n                    hintContent: \"Воронеж, Комиссаржевской, 12\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark13 = new ymaps.Placemark([51.612999, 39.234073], {\r\n                    hintContent: \"Воронеж, Корейская, 6А\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark14 = new ymaps.Placemark([51.655199, 39.158506], {\r\n                    hintContent: \"Воронеж, Космонавтов, 22\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark15 = new ymaps.Placemark([51.660216, 39.153314], {\r\n                    hintContent: \"Воронеж, Космонавтов, 8\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark16 = new ymaps.Placemark([51.617104, 39.247332], {\r\n                    hintContent: \"Воронеж, Костромская, 13\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark17 = new ymaps.Placemark([51.637282, 39.173805], {\r\n                    hintContent: \"Воронеж, Краснознаменная, 171а\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark18 = new ymaps.Placemark([51.6348,39.2327], {\r\n                    hintContent: \"Воронеж, Ленинский пр-т, 3\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark19 = new ymaps.Placemark([51.670724, 39.251159], {\r\n                    hintContent: \"Воронеж, Ленинский пр-т, 111\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark20 = new ymaps.Placemark([51.672193, 39.251707], {\r\n                    hintContent: \"Воронеж, Ленинский пр-т, 117\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark21 = new ymaps.Placemark([51.68248, 39.261301], {\r\n                    hintContent: \"Воронеж, Ленинский пр-т, 129\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark22 = new ymaps.Placemark([51.694736, 39.269412], {\r\n                    hintContent: \"Воронеж, Ленинский пр-т, 177\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark23 = new ymaps.Placemark([51.643, 39.236992], {\r\n                    hintContent: \"Воронеж, Ленинский пр-т, 27\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark24 = new ymaps.Placemark([51.653986, 39.240577], {\r\n                    hintContent: \"Воронеж, Ленинский пр-т, 73\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark25 = new ymaps.Placemark([51.665753, 39.248625], {\r\n                    hintContent: \"Воронеж, Ленинский пр-т, 97\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark26 = new ymaps.Placemark([51.706787, 39.165037], {\r\n                    hintContent: \"Воронеж, Лизюкова, 38\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark27 = new ymaps.Placemark([51.728498, 39.205372], {\r\n                    hintContent: \"Воронеж, Ломоносова, 114/19\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark28 = new ymaps.Placemark([51.729022, 39.205057], {\r\n                    hintContent: \"Воронеж, Ломоносова, 114/31\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark29 = new ymaps.Placemark([51.691688, 39.281549], {\r\n                    hintContent: \"Воронеж, Минская, 67\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark30 = new ymaps.Placemark([51.687919, 39.279222], {\r\n                    hintContent: \"Воронеж, Минская, 69\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark31 = new ymaps.Placemark([51.716743, 39.178584], {\r\n                    hintContent: \"Воронеж, Московский проспект, 125\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark32 = new ymaps.Placemark([51.616735, 39.237612], {\r\n                    hintContent: \"Воронеж, Новосибирская, 9\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark33 = new ymaps.Placemark([51.681804, 39.253333], {\r\n                    hintContent: \"Воронеж, Переверткина, 1/2\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark34 = new ymaps.Placemark([51.688243, 39.259675], {\r\n                    hintContent: \"Воронеж, Переверткина, 26\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark35 = new ymaps.Placemark([51.685328, 39.189373], {\r\n                    hintContent: \"Воронеж, Политехнический пер, 14\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark36 = new ymaps.Placemark([51.682826, 39.086273], {\r\n                    hintContent: \"Воронеж, Придонской, 232 СтрДивизии, 45\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark37 = new ymaps.Placemark([51.602405, 39.240909], {\r\n                    hintContent: \"Воронеж, Ростовская, 58/12\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark38 = new ymaps.Placemark([51.670841, 39.193271], {\r\n                    hintContent: \"Воронеж, Средне-Московская, 45\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark39 = new ymaps.Placemark([51.625022, 39.076382], {\r\n                    hintContent: \"Воронеж, Тепличная, 6г\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark40 = new ymaps.Placemark([51.673383, 39.164795], {\r\n                    hintContent: \"Воронеж, Труда пр-т, 72\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark41 = new ymaps.Placemark([51.674433, 39.289436], {\r\n                    hintContent: \"Воронеж, Урывского, 17в\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark42 = new ymaps.Placemark([51.702601, 39.184414], {\r\n                    hintContent: \"Воронеж, Хользунова, 35\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark43 = new ymaps.Placemark([51.702316, 39.1666], {\r\n                    hintContent: \"Воронеж, Хользунова, 72б\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark44 = new ymaps.Placemark([51.715588, 39.185528], {\r\n                    hintContent: \"Воронеж, Шишкова, 146б\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark45 = new ymaps.Placemark([51.49865, 40.436288], {\r\n                    hintContent: \"Воронежская область, Анна, Чапаева, 32\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark46 = new ymaps.Placemark([51.741338, 39.313951], {\r\n                    hintContent: \"Воронежская область, Боровое, Ф Тютчева, 99А\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark47 = new ymaps.Placemark([50.427705, 41.002577], {\r\n                    hintContent: \"Воронежская область, Калач, Герцена, 8\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark48 = new ymaps.Placemark([51.344215, 39.298572], {\r\n                    hintContent: \"Воронежская область, Колодезный, Победы, 2б\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark49 = new ymaps.Placemark([50.987763, 39.503298], {\r\n                    hintContent: \"Воронежская область, Лиски, Коммунистическая, 87\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark50 = new ymaps.Placemark([50.991885, 39.502867], {\r\n                    hintContent: \"Воронежская область, Лиски, Трудовые резервы, 2а\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark51 = new ymaps.Placemark([51.641954, 39.408966], {\r\n                    hintContent: \"Воронежская область, Новая Усмань, Ленина, 244\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark52 = new ymaps.Placemark([51.607669, 39.379681], {\r\n                    hintContent: \"Воронежская область, Новая Усмнань, Полевая, 36б\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark53 = new ymaps.Placemark([50.452695, 40.133601], {\r\n                    hintContent: \"Воронежская область, Павловск, Северный мкр-н, 7\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark54 = new ymaps.Placemark([51.645207, 40.134355], {\r\n                    hintContent: \"Воронежская область, Панино, Красная площадь, 13а\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark55 = new ymaps.Placemark([51.74015, 39.164902], {\r\n                    hintContent: \"Воронежская область, Подгорное, Лихачева, 2\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark56 = new ymaps.Placemark([51.754185, 39.432313], {\r\n                    hintContent: \"Воронежская область, поселок Шуберское, Ленина, 35\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark57 = new ymaps.Placemark([51.914282, 39.337361], {\r\n                    hintContent: \"Воронежская область, Рамонь, 50 лет ВЛКСМ, 10\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark58 = new ymaps.Placemark([51.917832, 39.299165], {\r\n                    hintContent: \"Воронежская область, Рамонь, ВНИИСС, 95\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark59 = new ymaps.Placemark([51.692078, 39.018836], {\r\n                    hintContent: \"Воронежская область, Семилуки, Комсомольская, 12\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark60 = new ymaps.Placemark([51.695177, 39.022448], {\r\n                    hintContent: \"Воронежская область, Семилуки, Крупской пер, 7\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark61 = new ymaps.Placemark([51.822252, 39.268056], {\r\n                    hintContent: \"Воронежская область, Чертовицы, Героев, 2\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark62 = new ymaps.Placemark([51.562546, 39.114094], {\r\n                    hintContent: \"Воронежская область, Шилово, Междуреченская, 1ж\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark63 = new ymaps.Placemark([51.836684, 40.8029], {\r\n                    hintContent: \"Воронежская область, Эртиль, Правды, 1а\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark64 = new ymaps.Placemark([50.85397, 39.053772], {\r\n                    hintContent: \"Воронежская область, Острогожск, 50 лет Октября, 45\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark65 = new ymaps.Placemark([50.4235,41.0298], {\r\n                    hintContent: \"Воронежская область, Калач, Ленинская 98А\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark66 = new ymaps.Placemark([50.1920,39.5801], {\r\n                    hintContent: \"Воронежская область, Россошь, Пролетарская, 161\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark67 = new ymaps.Placemark([50.19579336208347,39.58520056706746], {\r\n                    hintContent: \"Воронежская область, Россошь, Простеева, 9г\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark68 = new ymaps.Placemark([51.6440,39.1468], {\r\n                    hintContent: \"Воронеж, Кривошеина, 66\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark69 = new ymaps.Placemark([50.9754,39.5454], {\r\n                    hintContent: \"Воронежская область, Лиски, 40 лет Октября, 43А\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark70 = new ymaps.Placemark([51.0855,38.6434], {\r\n                    hintContent: \"Воронежская область, Репьёвка, Воронежская, 70А\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark71 = new ymaps.Placemark([51.0985,38.5732], {\r\n                    hintContent: \"Воронежская область, Дракино, Полевая 114А\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark72 = new ymaps.Placemark([51.34999180812789,39.29382271801027], {\r\n                    hintContent: \"\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark73 = new ymaps.Placemark([51.3502,39.2980], {\r\n                    hintContent: \"Генерала Лохматикова, 11\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark74 = new ymaps.Placemark([51.4577,41.9736], {\r\n                    hintContent: \"Грибановский, Советская, 157 Б\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark75 = new ymaps.Placemark([51.4498,41.9212], {\r\n                    hintContent: \"Грибановский, Машзаводская, 22\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark76 = new ymaps.Placemark([51.6754,39.1419], {\r\n                    hintContent: \"Воронеж, Семилукская, 16/5\",\r\n                    iconContent: \"\",\r\n\r\n\r\n\r\n                }, {\r\n                    preset: \"islands#greenShoppingIcon\"\r\n\r\n                });\r\n\r\n                placemark77 = new ymaps.Placemark([position.coords.latitude, position.coords.longitude], {\r\n                    hintContent: \"Воронеж, 45 СтрДивизии, 226\"\r\n                }, {\r\n                    preset: \"islands#geolocationIcon\"\r\n                });\r\n\r\n                myMap.geoObjects.add(placemark1).add(placemark2).add(placemark3).add(placemark4).add(placemark5).add(placemark6).add(placemark7).add(placemark8).add(placemark9).add(placemark10).add(placemark11).add(placemark12).add(placemark13).add(placemark14).add(placemark15).add(placemark16).add(placemark17).add(placemark18).add(placemark19).add(placemark20).add(placemark21).add(placemark22).add(placemark23).add(placemark24).add(placemark25).add(placemark26).add(placemark27).add(placemark28).add(placemark29).add(placemark30).add(placemark31).add(placemark32).add(placemark33).add(placemark34).add(placemark35).add(placemark36).add(placemark37).add(placemark38).add(placemark39).add(placemark40).add(placemark41).add(placemark42).add(placemark43).add(placemark44).add(placemark45).add(placemark46).add(placemark47).add(placemark48).add(placemark49).add(placemark50).add(placemark51).add(placemark52).add(placemark53).add(placemark54).add(placemark55).add(placemark56).add(placemark57).add(placemark58).add(placemark59).add(placemark60).add(placemark61).add(placemark62).add(placemark63).add(placemark64).add(placemark65).add(placemark66).add(placemark67).add(placemark68).add(placemark69).add(placemark70).add(placemark71).add(placemark72).add(placemark73).add(placemark74).add(placemark75).add(placemark76).add(placemark77);\r\n\r\n\r\n            }\r\n        };\r\n\r\n\r\n\r\n        function onError(error) {\r\n            alert('code: '    + error.code    + '\\n' + 'message: ' + error.message + '\\n');\r\n        }\r\n\r\n        navigator.geolocation.getCurrentPosition(onSuccess, onError, options);\r\n\r\n    }\r\n\r\n\r\n    //Нижний юлок\r\n    $(\".button\").removeClass('active');\r\n    if (localStorage.account == \"login\") {\r\n        $(\"#tabbar .login.profile\").html(\r\n            '<div onclick=\"profile()\" class=\"button\">\\\r\n                <div class=\"icon\"><i class=\"fas fa-barcode\"></i></div>\\\r\n                <div class=\"name\">Профиль</div>\\\r\n            <div>'\r\n        );\r\n        $(\".name-layout .exit\").html('<i class=\"fas fa-sign-out-alt\"></i>');\r\n    }else{\r\n        $(\"#tabbar .login.profile\").html(\r\n            '<div onclick=\"login()\" class=\"button\">\\\r\n                <div class=\"icon\"><i class=\"far fa-user-circle\"></i></div>\\\r\n                <div class=\"name\">Войти</div>\\\r\n            </div>'\r\n        );\r\n    }\r\n    $(\"#tabbar .map .button\").addClass('active');\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n$('.exit').click(function() {\r\n    $('.exit').html('');\r\n    delete localStorage.account;\r\n    User=false;\r\n    Page='login';\r\n    $(\"#tabbar .login.profile\").html(\r\n        '<div onclick=\"login()\" class=\"button\">\\\r\n            <div class=\"icon\"><i class=\"far fa-user-circle\"></i></div>\\\r\n            <div class=\"name\">Войти</div>\\\r\n        </div>'\r\n    );\r\n    $(\"#tabbar .news .button\").addClass('active');\r\n    login();\r\n});\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- files/js/main.js	(revision 8ad9db943132af7fee934e6147a4eda6162fa499)
+++ files/js/main.js	(date 1615797637291)
@@ -530,7 +530,7 @@
 
 
 function map() {
-    $('#preload').css('display', 'block');
+    //$('#preload').css('display', 'block');
 
 
 
@@ -561,12 +561,12 @@
 
         options = {
             maximumAge: 30000,
-            timeout: 10000,
+            timeout: 6000,
             enableHighAccuracy: true
         };
 
         var onSuccess = function(position) {
-            $('#preload').css('display', 'none');
+            //$('#preload').css('display', 'none');
             ymaps.ready(init);
 
             function init() {
